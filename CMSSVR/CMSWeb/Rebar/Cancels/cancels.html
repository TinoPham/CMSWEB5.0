<div class="rebar-container page-have-collapse-data" ng-controller="cancelCtrl as vm">
	<div class="header-content">
		<div class="tree-site-content pull-left">
			<div class="rebar-btn-tree btn-group" outside-click="clickOutside($event ,'.rebar-btn-tree')">
				<a id="btn-popMenuConvSites" class="btn btn-xs dropdown-toggle btn-site" pop-menu>{{'SELECT_REGION_STRING'|translate}} <span class="badge">{{vm.selectedSites.length}}</span><i class="icon-down-open-2"></i></a>
				<ul class="dropdown-menu pull-left filter-dlg">
					<li>
						<div class="row">
							<div class="col-md-12">
								<div class="panel">
									<div class="panel-header chart-pop-header" style="height: 32px;">
										<div class="">
											<div class="input-group">
												<input type="text" ng-model="vm.querySite" class="form-control input-search" placeholder="{{'SEARCH_PLACE_HOLDER'|translate}}" />
											</div>
										</div>

									</div>
									<div class="scroll-body" slimscroll="{height: '300px'}">
										<div class="tree-site-addmin" ng-if="vm.siteloaded === true">
											<tree-component class="cms-tree" model="vm.treeSiteFilterS" def-col="vm.treeDef" filter-text="vm.querySite" options="vm.treeOptions"></tree-component>
										</div>
									</div>
									<div class="panel-footer">
										<div class="btn-group">
											<span id="closeConvSites" class="btn btn-blue-3 pull-right btn-sm" ng-click="vm.TreeSiteClose()">{{'BTN_DONE'|translate}}</span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div ng-show="showProgressBar" class="col-md-5 showProgressBar">
			<div class="col-xs-10  col-sm-10">
				<span class="label">{{'PLEASE_WAIT' | translate}}</span>
				<span class="label pull-right"> {{dataProgressValue}}% </span>
				<progressbar class="progress-striped active progress-xs " value="dataProgressValue" type="primary">{{dataProgressValue}}%</progressbar>
			</div>
			<div class="col-xs-2 btn btn-danger btn-stop" ng-click="stopGetData()"><i class="icon-off"></i></div>
		</div>
		<div class="form-group pull-right">
			<label class="control-label head-item">{{'GROUP_BY_STRING'|translate}}</label>
			<span class="head-item">{{'EMPLOYEE_STRING'|translate}}</span>
			<cms-switch-button model="groupByField" class="head-item"></cms-switch-button>
			<span class="head-item">{{'SITE_NAME_STRING'|translate}}</span>
		</div>
	</div>
	<div ng-if="vm.siteloaded" ng-include="'Widgets/Rebar/CannedRptViewer.html'"></div>
	<!--<div ng-show="cancelData.length > 0" class="main-content">
		<div class="list-group list-group-root">
			<div ng-repeat="cancel in cancelData">
				<a href="#item-{{$index}}" class="list-group-item" data-toggle="collapse" ng-click="getCancelChildData(cancel, $index)">
					<span>
						<i class="icon-store-3"></i>
						<span ng-if="groupByField">{{cancel.SiteName}}</span>
						<span ng-if="!groupByField">{{cancel.EmpName}} {{cancel.EmpID}}</span>
						<span>:</span>
					</span>
					<span class="amount-value">{{cancel.TotalAmount|currency}}</span>
					<span class="badge">{{'COUNT_STRING'|translate}}: {{cancel.TotalTrans}}</span>
				</a>
				<div ng-show="cancel.Childs.length > 0" class="list-group list-group-child collapse" id="item-{{$index}}">
					<div ng-repeat="cancelChild in cancel.Childs">
						<a href="#child-{{$parent.$index}}-{{$index}}" class="list-group-item" data-toggle="collapse" ng-click="getCancelDetail(cancel, $parent.$index, $index)">
							<span>
								<i class="icon-user-1"></i>
								<span ng-if="groupByField">{{cancelChild.EmpName}}</span>
								<span ng-if="!groupByField">{{cancelChild.SiteName}}</span>
								<span>:</span>
							</span>
							<span class="amount-value">{{cancelChild.TotalAmount|currency}}</span>
							<span class="badge">{{'COUNT_STRING'|translate}}: {{cancelChild.TotalTrans}}</span>
						</a>
						<div ng-show="cancelChild.Details.length > 0" ng-class="cancelChild.Details.length > 0? 'table-data-visable':''" class="collapse" id="child-{{$parent.$index}}-{{$index}}">
							<div class="wrapper-bam-table" ng-style="{'height': (cancelChild.Details.length * 20) + 100}">
								<div class="bam-table">
									<div class="tb-header">
										<div class="tb-row">
											<div class="tb-col">{{'TRANS_NUMBER_STRING' | translate}}</div>
											<div class="tb-col">{{'REGISTER_NAME_STRING' | translate}}</div>
											<div class="tb-col">{{'METHOD_PAYMENT_STRING' | translate}}</div>
											<div class="tb-col">{{'AMOUNT_STRING' | translate}}</div>
										</div>
									</div>
									<div class="tb-body">
										<div class="tb-row" ng-repeat="cancelDetail in cancelChild.Details">
											<div class="tb-col">{{cancelDetail.TranNB}}</div>
											<div class="tb-col">{{cancelDetail.RegisName}}</div>
											<div class="tb-col">{{cancelDetail.PaymentName}}</div>
											<div class="tb-col amount-value">{{cancelDetail.Amount|currency}}</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div ng-if="!cancelData" class="no-data">
		<span>{{'NO_DATA_STRING'|translate}}</span>
	</div>-->
</div>
