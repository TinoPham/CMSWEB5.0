<form name="myForm" ng-cloak>
    <div class="modal-header">
		<span class="modal-title">{{btn_Type|translate}} {{Resx.LAYOUT_CONFIG_LDAP|translate}}</span>
    </div>
    <div class="modal-body">
		<div class="form-horizontal">
                <checkbox id="enableLdap" large ng-model="ldapSelected.isEnable"></checkbox>				
				<span class="control-label">{{Resx.LDAP_ENABLE_LDAP|translate}}</span>
			<div>
				<div class="form-group">
					<span class="col-sm-3 control-label">{{Resx.LDAP_USER_SYS|translate}}</span>
					<div class="col-sm-8">
						<select class="form-control" ng-model="typeSelected" ng-options="type as type.SynName for type in synUserType" ng-disabled="!ldapSelected.isEnable"></select>
					</div>
				</div>
				<div class="form-group">
					<span class="col-sm-3 control-label">{{Resx.LDAP_SERVERIP|translate}}</span>
					<div class="col-sm-8">
						<input type="text" class="form-control" name="serverip" ng-disabled="!ldapSelected.isEnable" placeholder="Server IP" ng-click="ChangeValue()" 
                            ng-model="ldapSelected.ServerIP" ng-pattern="/^(\d{1,3}\.){3}(\d{1,3})$/"  required>
                        <span style="color:red" ng-show="myForm.serverip.$dirty && myForm.serverip.$invalid">
                            <span ng-show="myForm.serverip.$error.unique">{{message|translate}}</span>
                            <span ng-show="myForm.serverip.$error.required">{{Resx.LDAP_SERVERIP_REQUIRED|translate}}</span>
                            <span ng-show="myForm.serverip.$error.pattern">{{Resx.LDAP_SERVERIP_WRONG|translate}}</span>
                        </span>    
                    </div>                                               
                </div>
				<div class="form-group">
					<span class="col-sm-3 control-label">{{Resx.USER_NAME|translate}}</span>
					<div class="col-sm-8">
						<input type="text" class="form-control" name="username" ng-disabled="!ldapSelected.isEnable" placeholder="User name" ng-model="ldapSelected.UserID" maxlength="50" required>
                        <span style="color:red" ng-show="myForm.username.$dirty && myForm.username.$invalid">
						    <span ng-show="myForm.username.$error.required">{{Resx.LDAP_USERNAME_REQUIRED|translate}}</span>
                        </span>  
					</div>                        
                </div>
				<div class="form-group">
					<span class="col-sm-3 control-label">{{Resx.PASSWORD|translate}}</span>
					<div class="col-sm-8">
						<input type="password" class="form-control" name="password" placeholder="Password" ng-disabled="!ldapSelected.isEnable" ng-model="ldapSelected.PassWord" maxlength="50" required>
                        <span style="color:red" ng-show="myForm.password.$dirty && myForm.password.$invalid">
						    <span ng-show="myForm.password.$error.required">{{Resx.LDAP_PASSWORD_REQUIRED|translate}}</span>
                        </span> 
					</div>                        
                </div>          
				<div class="form-group">
					<span class="col-sm-3 control-label">{{Resx.LDAP_SYNEVERY|translate}}</span>
					<div class="col-sm-2">
						<select class="form-control" ng-model="ldapSelected.Interval" ng-disabled="!ldapSelected.isEnable" ng-options="opt for opt in days"></select>
					</div>
					<span class="col-sm-3 control-label">{{Resx.LDAP_DAYSAT|translate}}</span>
					<div class="col-sm-3">                       
						<div class="input-group">
							<input type="text" class="form-control cms-form-control" value="{{pop.mytime|date:'HH:mm'}}" readonly>
							<span class="input-group-addon" cms-popover templatelink="'Widgets/Templates/timepicker.html'" pop-data="pop" trigger="click">
								<i class="icon-clock"></i>
							</span>
                        </div>
					</div>					
				</div>
				<div class="form-group">
					<div class="col-sm-3"></div>
					<div class="col-sm-8">
                            <checkbox id="forceUpdate" large ng-model="ldapSelected.isForceUpdate" ng-disabled="!ldapSelected.isEnable" ></checkbox>								
							<span class="control-label">{{Resx.LDAP_USE_SYN|translate}}</span>
					</div>
                </div>               
            </div>                             
        </div>             
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" ng-click="SaveLDAP()" ng-disabled="myForm.$invalid || (!ldapSelected.isEnable && ldapSelected.SynID==0)">{{Resx.BTN_SAVE|translate}}</button>
        <button class="btn btn-danger" ng-click="CloseLDAP()">{{Resx.BTN_CANCEL|translate}}</button>
    </div>
</form>   
