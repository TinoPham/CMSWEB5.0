angular.module("angularValidator",[]);angular.module("angularValidator").directive("angularValidator",["$timeout",function(n){return{restrict:"A",link:function(t,i){function s(n){for(var t=0;t<n.length;t++)t in n&&c(n[t])}function c(n){if(!n.isWatchedByValidator){if(n.isWatchedByValidator=!0,"validate-on"in n.attributes&&n.attributes["validate-on"].value==="blur")angular.element(n).on("blur",function(){f(n);o(n)});t.$watch(function(){return n.value+n.required+r.submitted+v(n)+l(r[n.name])+a(r[n.name])},function(){r.submitted?(f(n),o(n)):(isDirtyElement="validate-on"in n.attributes&&n.attributes["validate-on"].value==="dirty",isDirtyElement?(f(n),o(n)):r[n.name]&&r[n.name].$pristine&&(f(n),o(n)))})}}function l(n){if(n&&"$dirty"in n)return n.$dirty}function a(n){if(n&&"$valid"in n)return n.$valid}function v(n){if("validator"in n.attributes){var i=t.$eval(n.attributes.validator.value);return r[n.name]&&r[n.name].$setValidity("angularValidator",i),i}}function f(n){var s=function(){return"<i class=' icon-cancel'><\/i> Required"},h=function(){return"<i class=' icon-cancel'><\/i> Invalid"},u,f,i,o;n.name in r&&(u=r[n.name],f=y(n),f&&f.remove(),(u.$dirty||n.form&&t[n.form.name]&&t[n.form.name].submitted)&&(i=n,o=n.parentElement.attributes["class"].textContent,o.indexOf("input-group")>=0&&(i=n.parentElement),u.$error.required?"required-message"in n.attributes?angular.element(i).after(e(n.attributes["required-message"].value)):angular.element(i).after(e(s)):u.$valid||("invalid-message"in n.attributes?angular.element(i).after(e(n.attributes["invalid-message"].value)):angular.element(i).after(e(h)))))}function e(n){return"<label class='control-label has-error validationMessage'>"+t.$eval(n)+"<\/label>"}function y(n){var r=n,u=n.parentElement.attributes["class"].textContent,i,t;for(u.indexOf("input-group")>=0&&(r=n.parentElement),i=angular.element(r).parent().children(),t=0;t<i.length;t++)if(angular.element(i[t]).hasClass("validationMessage"))return angular.element(i[t]);return!1}function o(n){if(n.name in r){var i=r[n.name];angular.element(n).removeClass("has-error");angular.element(n.parentNode).removeClass("has-error");(i.$dirty||n.form&&t[n.form.name]&&t[n.form.name].submitted)&&i.$invalid&&(angular.element(n.parentNode).addClass("has-error"),angular.element(n).addClass("has-error"))}}var u=angular.element(i)[0],h=u.attributes.name.value,r=t[h];r.submitted=!1;t.$watch(function(){return u.length},function(){n(function(){s(u)},0)});i.on("submit",function(n){n.preventDefault();t.$apply(function(){r.submitted=!0});r.$valid&&t.$apply(function(){t.$eval(u.attributes["angular-validator-submit"].value)})});r.reset=function(){for(var n=0;n<u.length;n++)u[n].name&&(r[u[n].name].$setViewValue(""),r[u[n].name].$render());r.submitted=!1;r.$setPristine()};n(function(){s(u)},0)}}}]);
/*
//# sourceMappingURL=angular-validator.min.js.map
*/