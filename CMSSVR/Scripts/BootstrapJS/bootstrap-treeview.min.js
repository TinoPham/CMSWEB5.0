(function(n,t,i,r){"use strict";var u="treeview",f=function(t,i){this.$element=n(t);this._element=t;this._elementId=this._element.id;this._styleId=this._elementId+"-style";this.tree=[];this.nodes=[];this.selectedNode={};this._init(i)},e;f.defaults={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",nodeIcon:"glyphicon glyphicon-stop",color:r,backColor:r,borderColor:r,onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",enableLinks:!1,highlightSelected:!0,showBorder:!0,showTags:!1,onNodeSelected:r};f.prototype={remove:function(){this._destroy();n.removeData(this,"plugin_"+u);n("#"+this._styleId).remove()},_destroy:function(){this.initialized&&(this.$wrapper.remove(),this.$wrapper=null,this._unsubscribeEvents());this.initialized=!1},_init:function(t){t.data&&(typeof t.data=="string"&&(t.data=n.parseJSON(t.data)),this.tree=n.extend(!0,[],t.data),delete t.data);this.options=n.extend({},f.defaults,t);this._setInitialLevels(this.tree,0);this._destroy();this._subscribeEvents();this._render()},_unsubscribeEvents:function(){this.$element.off("click")},_subscribeEvents:function(){this._unsubscribeEvents();this.$element.on("click",n.proxy(this._clickHandler,this));if(typeof this.options.onNodeSelected=="function")this.$element.on("nodeSelected",this.options.onNodeSelected)},_clickHandler:function(t){this.options.enableLinks||t.preventDefault();var i=n(t.target),u=i.attr("class")?i.attr("class").split(" "):[],r=this._findNode(i);u.indexOf("click-expand")!=-1||u.indexOf("click-collapse")!=-1?(this._toggleNodes(r),this._render()):r&&this._setSelectedNode(r)},_findNode:function(n){var i=n.closest("li.list-group-item").attr("data-nodeid"),t=this.nodes[i];return t||console.log("Error: node does not exist"),t},_triggerNodeSelectedEvent:function(t){this.$element.trigger("nodeSelected",[n.extend(!0,{},t)])},_setSelectedNode:function(n){n&&(n===this.selectedNode?this.selectedNode={}:this._triggerNodeSelectedEvent(this.selectedNode=n),this._render())},_setInitialLevels:function(t,i){if(t){i+=1;var u=this;n.each(t,function(n,t){i>=u.options.levels&&u._toggleNodes(t);var f=t.nodes?t.nodes:t._nodes?t._nodes:r;if(f)return u._setInitialLevels(f,i)})}},_toggleNodes:function(n){(n.nodes||n._nodes)&&(n.nodes?(n._nodes=n.nodes,delete n.nodes):(n.nodes=n._nodes,delete n._nodes))},_render:function(){var t=this;t.initialized||(t.$element.addClass(u),t.$wrapper=n(t._template.list),t._injectStyle(),t.initialized=!0);t.$element.empty().append(t.$wrapper.empty());t.nodes=[];t._buildTree(t.tree,0)},_buildTree:function(t,i){if(t){i+=1;var r=this;n.each(t,function(t,u){var f,e;for(u.nodeId=r.nodes.length,r.nodes.push(u),f=n(r._template.item).addClass("node-"+r._elementId).addClass(u===r.selectedNode?"node-selected":"").attr("data-nodeid",u.nodeId).attr("style",r._buildStyleOverride(u)),e=0;e<i-1;e++)f.append(r._template.indent);return u._nodes?f.append(n(r._template.iconWrapper).append(n(r._template.icon).addClass("click-expand").addClass(r.options.expandIcon))):u.nodes?f.append(n(r._template.iconWrapper).append(n(r._template.icon).addClass("click-collapse").addClass(r.options.collapseIcon))):f.append(n(r._template.iconWrapper).append(n(r._template.icon).addClass("glyphicon"))),f.append(n(r._template.iconWrapper).append(n(r._template.icon).addClass(u.icon?u.icon:r.options.nodeIcon))),r.options.enableLinks?f.append(n(r._template.link).attr("href",u.href).append(u.text)):f.append(u.text),r.options.showTags&&u.tags&&n.each(u.tags,function(t,i){f.append(n(r._template.badge).append(i))}),r.$wrapper.append(f),u.nodes?r._buildTree(u.nodes,i):void 0})}},_buildStyleOverride:function(n){var t="";return this.options.highlightSelected&&n===this.selectedNode?t+="color:"+this.options.selectedColor+";":n.color&&(t+="color:"+n.color+";"),this.options.highlightSelected&&n===this.selectedNode?t+="background-color:"+this.options.selectedBackColor+";":n.backColor&&(t+="background-color:"+n.backColor+";"),t},_injectStyle:function(){this.options.injectStyle&&!i.getElementById(this._styleId)&&n('<style type="text/css" id="'+this._styleId+'"> '+this._buildStyle()+" <\/style>").appendTo("head")},_buildStyle:function(){var n=".node-"+this._elementId+"{";return this.options.color&&(n+="color:"+this.options.color+";"),this.options.backColor&&(n+="background-color:"+this.options.backColor+";"),this.options.showBorder?this.options.borderColor&&(n+="border:1px solid "+this.options.borderColor+";"):n+="border:none;",n+="}",this.options.onhoverColor&&(n+=".node-"+this._elementId+":hover{background-color:"+this.options.onhoverColor+";}"),this._css+n},_template:{list:'<ul class="list-group"><\/ul>',item:'<li class="list-group-item"><\/li>',indent:'<span class="indent"><\/span>',iconWrapper:'<span class="icon"><\/span>',icon:"<i><\/i>",link:'<a href="#" style="color:inherit;"><\/a>',badge:'<span class="badge"><\/span>'},_css:".list-group-item{cursor:pointer;}span.indent{margin-left:10px;margin-right:10px}span.icon{margin-right:5px}"};e=function(n){t.console&&t.console.error(n)};n.fn[u]=function(t,i){return this.each(function(){var r=n.data(this,"plugin_"+u);typeof t=="string"?r?n.isFunction(r[t])&&t.charAt(0)!=="_"?(typeof i=="string"&&(i=[i]),r[t].apply(r,i)):e("No such method : "+t):e("Not initialized, can not call method : "+t):r?r._init(t):n.data(this,"plugin_"+u,new f(this,n.extend(!0,{},t)))})}})(jQuery,window,document);
/*
//# sourceMappingURL=bootstrap-treeview.min.js.map
*/